## Creates the semantic models and metrics needed for the initiative as described in https://www.notion.so/dataroots/Metrics-dae9c72b57544bc8ba85ae83efaa9a24
semantic_models:
  - name: fct_jaffleshop_initiative
    description: Model containing our jaffle shop data and metrics.
    model: ref('fct_jaffleshop')
    entities:
      - name: id
        type: primary
        expr: sk_id
      - name: customer
        type: foreign
        expr: customer_id

    dimensions:
      - name: customer_id
        expr: customer_id
        type: categorical

    measures:
      - name: average_payment_amount
        description: The average payment amount
        expr: amount
        agg: average

metrics:
  - name: average_payment_amount_per_customer
    description: Metrics /#3 - Average amount paid per customer.
    label: average_spending
    type: cumulative
    type_params:
      measure: average_payment_amount